<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notifikasi Percobaan</title>
</head>
<body>

    <h2>Notifikasi Otomatis Setiap 30 Detik</h2>
    <button onclick="mintaNotifikasi()">Izinkan Notifikasi</button>

    <script>
        function mintaNotifikasi() {
            Notification.requestPermission().then(function (permission) {
                if (permission === "granted") {
                    alert("Notifikasi diaktifkan!");
                    mulaiNotifikasi();
                } else {
                    alert("Anda menolak notifikasi, silakan izinkan di pengaturan browser.");
                }
            });
        }

        function mulaiNotifikasi() {
            setInterval(function () {
                if (Notification.permission === "granted") {
                    new Notification("Pesan Baru!", {
                        body: "Ini adalah notifikasi uji coba setiap 30 detik.",
                        icon: "https://masbud123.github.io/notif-mikrotik/icon.png" // Ganti dengan ikon yang di-host
                    });
                }
            }, 30000); // 30 detik
        }

        // Jika sebelumnya sudah diizinkan, langsung jalankan notifikasi
        if (Notification.permission === "granted") {
            mulaiNotifikasi();
        }
    </script>

</body>
</html>
